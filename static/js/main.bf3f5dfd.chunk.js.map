{"version":3,"sources":["components/MovieItem.jsx","utils/api.js","components/MovieTabs.jsx","components/MoviePages.jsx","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","_this2","this","_this$props","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","react_default","a","createElement","className","src","concat","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","API_URL","API_KEY_3","MovieTabs","sort_by","updateSortBy","handleClick","value","getClassLink","MoviePages","page","pages","updateNextPage","updatePrevPage","nextClick","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getMovies","fetch","then","response","json","console","log","movies","results","total_pages","movie","id","updateMovies","filter","item","updateMoviesWillWatch","toConsumableArray","moviesWillWatch","push","prevProps","prevState","components_MovieTabs","map","key","components_MovieItem","length","components_MoviePages","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.bf3f5dfd.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n  state = {\r\n    willWatch: false\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      data,\r\n      deleteMovie,\r\n      addMovieToWillWatch,\r\n      deleteMovieFromWillWatch\r\n    } = this.props;\r\n    // props.data = {};\r\n    return (\r\n      <div className=\"card\">\r\n        <img\r\n          className=\"card-img-top\"\r\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\r\n            data.poster_path}`}\r\n          alt=\"\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h6 className=\"card-title\">{data.title}</h6>\r\n          <div className=\"d-flex justify-content-between align-items-center\">\r\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\r\n            {this.state.willWatch ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success\"\r\n                onClick={() => {\r\n                  this.setState({\r\n                    willWatch: false\r\n                  });\r\n                  deleteMovieFromWillWatch(data);\r\n                }}\r\n              >\r\n                Will Watch\r\n              </button>\r\n            ) : (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      willWatch: true\r\n                    });\r\n                    addMovieToWillWatch(data);\r\n                  }}\r\n                >\r\n                  Will Watch\r\n              </button>\r\n              )}\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              deleteMovie(data);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieItem;\r\n","export const API_URL = \"https://api.themoviedb.org/3/discover/movie\";\r\n\r\nexport const API_KEY_3 = \"cf6096a8d791d45ef5823f980e616c89\";\r\n\r\nexport const API_KEY_4 =\r\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\r\n","import React from 'react'\r\n\r\nconst MovieTabs = (props) => {\r\n  const { sort_by, updateSortBy } = props\r\n  \r\n  const handleClick = (value) => {\r\n    return () => {\r\n    updateSortBy(value)\r\n    }\r\n  }\r\n\r\nconst getClassLink = (value) => {\r\n  return `nav-link ${\r\n    sort_by === value ? \"active\" : \"\"\r\n    }`\r\n}\r\n\r\n  return (\r\n    <div>\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div \r\n            className={getClassLink(\"popularity.desc\")}\r\n            onClick={handleClick(\"popularity.desc\")}\r\n            >\r\n            Porular\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div className={getClassLink(\"revenue.desc\")}\r\n            onClick={handleClick(\"revenue.desc\")}\r\n          >\r\n            Revenue\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n        {/* <div className={`nav-link ${sort_by === \"vote_average.desc\" ? \"active\" : \"\"}`} */}\r\n        <div className={getClassLink(\"vote_average.desc\")}\r\n          onClick={handleClick(\"vote_average.desc\")}\r\n        >\r\n            Vote\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MovieTabs\r\n\r\n// const { sort_by } = props\r\n// return (\r\n//   <div>\r\n//     <ul className=\"tabs nav nav-pills\">\r\n//       <li className=\"nav-item\">\r\n//         <div className={`nav-link ${sort_by === \"popularity.desc\" ? \"active\" : \"\"}`}>\r\n//           Porular\r\n//         </div>\r\n//       </li>\r\n//       <li className=\"nav-item\">\r\n//         <div className={`nav-link ${sort_by === \"revenue.desc\" ? \"active\" : \"\"}`}>\r\n//           Revenue\r\n//         </div>\r\n//       </li>\r\n//       <li className=\"nav-item\">\r\n//         <div className={`nav-link ${sort_by === \"vote_average.desc\" ? \"active\" : \"\"}`}>\r\n//           Vote\r\n//         </div>\r\n//       </li>\r\n//     </ul>\r\n//   </div>","import React from 'react'\r\n\r\nconst MoviePages = (props) => {\r\n  const { page, pages, updateNextPage, updatePrevPage } = props\r\n  \r\n  const nextClick = (value) => {\r\n    return () => {\r\n    updateNextPage(value)\r\n    }\r\n  }\r\n\r\n  const prevClick = (value) => {\r\n    return () => {\r\n    updatePrevPage(value)\r\n    }\r\n  }\r\n\r\n// const getClassLink = (value) => {\r\n//   return `nav-link ${\r\n//     sort_by === value ? \"active\" : \"\"\r\n//     }`\r\n// }\r\n\r\n  return (\r\n    <div className=\"row col-9 flex justify-content-between\">\r\n      <button type=\"button\" className=\"col-2 h4\" onClick={prevClick(props.page)}>Prev</button>\r\n      <div className=\"h4 col-5 text-center\">\r\n        {page} of {pages}\r\n      </div>\r\n      <button type=\"button\" className=\"col-2 h4\" onClick={nextClick(props.page)}>Next</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MoviePages","import React from \"react\";\r\n//import { moviesData } from \"../moviesData\";\r\nimport MovieItem from \"./MovieItem\";\r\nimport { API_URL, API_KEY_3} from \"../utils/api\"\r\nimport MovieTabs from \"./MovieTabs\"\r\nimport MoviePages from \"./MoviePages\"\r\n// UI = fn(state, props)\r\n\r\n// App = new React.Component()\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      sort_by: \"popularity.desc\",\r\n      pages: [],\r\n      page: 2\r\n    };\r\n  }\r\n  \r\n  componentDidMount() {\r\n    this.getMovies()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.sort_by !== this.state.sort_by || prevState.page !== this.state.page) {\r\nthis.getMovies()\r\n    }\r\n  }\r\n  \r\n\r\n  getMovies = () => {\r\n    fetch(`${API_URL}?api_key=${API_KEY_3}&sort_by=${\r\n      this.state.sort_by}&page=${this.state.page}`).then((response) => {\r\n      return response.json()\r\n    })\r\n    .then((data) => {\r\n      console.log(\"data\", data)\r\n      this.setState({\r\n        movies: data.results,\r\n        pages: data.total_pages,\r\n        page: data.page\r\n      })\r\n      // console.log(\"this.setState\", this.state.pages)\r\n    })\r\n  }\r\n\r\n  deleteMovie = movie => {\r\n    console.log(movie.id);\r\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\r\n\r\n    // this.state.movies = updateMovies;\r\n    this.setState({\r\n      movies: updateMovies\r\n    });\r\n  };\r\n\r\n  addMovieToWillWatch = movie => {\r\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\r\n    updateMoviesWillWatch.push(movie);\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  deleteMovieFromWillWatch = movie => {\r\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\r\n      item => item.id !== movie.id\r\n    );\r\n\r\n    this.setState({\r\n      moviesWillWatch: updateMoviesWillWatch\r\n    });\r\n  };\r\n\r\n  updateSortBy = (value) => {\r\n    this.setState({\r\n      sort_by: value\r\n    })\r\n  }\r\n\r\n  updateNextPage = (value) => {\r\n    console.log(\"value next\", this.state.page)\r\n    if (value !==this.state.pages) {\r\n    this.setState({\r\n      page: value+1\r\n    })\r\n  }}\r\n\r\n  updatePrevPage = (value) => {\r\n    console.log(\"value prev\", this.state.page)\r\n    if (value !== 1) {\r\n    this.setState({\r\n      page: value-1\r\n    })\r\n  }}\r\n\r\n  render() {\r\n    console.log(\"render\", this);\r\n    return (\r\n      <div className=\"container pb-4\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-9\">\r\n          <div className=\"row mb-4\">\r\n            <div className=\"col-12\">\r\n              <MovieTabs \r\n                sort_by={this.state.sort_by}\r\n                updateSortBy={this.updateSortBy}\r\n              />\r\n            </div>\r\n          </div>\r\n              <div className=\"row\">\r\n              {this.state.movies.map(movie => {\r\n                return (\r\n                  <div className=\"col-6 mb-4\" key={movie.id}>\r\n                    <MovieItem\r\n                      data={movie}\r\n                      deleteMovie={this.deleteMovie}\r\n                      addMovieToWillWatch={this.addMovieToWillWatch}\r\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\r\n            <ul className=\"list-group\">\r\n              {this.state.moviesWillWatch.map(movie => (\r\n                <li key={movie.id} className=\"list-group-item\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p>{movie.title}</p>\r\n                    <p>{movie.vote_average}</p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <MoviePages\r\n          pages={this.state.pages}\r\n          page={this.state.page}\r\n          updateNextPage={this.updateNextPage}\r\n          updatePrevPage={this.updatePrevPage}\r\n          />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}